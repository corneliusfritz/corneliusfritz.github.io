<!DOCTYPE html>
<html lang="en"><head>
<script src="bigergm_files/libs/clipboard/clipboard.min.js"></script>
<script src="bigergm_files/libs/quarto-html/tabby.min.js"></script>
<script src="bigergm_files/libs/quarto-html/popper.min.js"></script>
<script src="bigergm_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="bigergm_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="bigergm_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="bigergm_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="bigergm_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.555">

  <meta name="author" content="Cornelius Fritz, Michael Schweinberger, and David R. Hunter">
  <title>bigergm: Fit, Simulate, and Diagnose Hierarchical Exponential-Family Models for Big Networks</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="bigergm_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="bigergm_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="bigergm_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="logo.css">
  <link href="bigergm_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="bigergm_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="bigergm_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="bigergm_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="bigergm_files/logo.png" data-background-position="50% 92%" data-background-size="15%" class="quarto-title-block center">
  <h1 class="title">bigergm: Fit, Simulate, and Diagnose Hierarchical Exponential-Family Models for Big Networks</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Cornelius Fritz, Michael Schweinberger, and David R. Hunter 
</div>
</div>
</div>

</section>
<section id="roadmap-bigergm-workshop" class="slide level2">
<h2>Roadmap: <a href="https://www.corneliusfritz.com/bigergm" data-preview-link="true">bigergm workshop</a></h2>
<ol type="1">
<li>Local dependence leveraging additional structure</li>
<li>Preparation and Background</li>
<li>Demonstration of capabilities of the package <code>bigergm</code></li>
<li>Application to Twitter (X): Following Network of State Legislators</li>
</ol>
<p><img data-src="bigergm_files/blueprint_workshop.jpg" class="absolute" style="top: 320px; left: 300px; width: 400px; "></p>
</section>
<section>
<section id="local-dependence-leveraging-additional-structure-non-overlapping-blocks" class="title-slide slide level1 center">
<h1>Local dependence leveraging additional structure: <br> Non-overlapping blocks</h1>

</section>
<section id="motivation" class="slide level2">
<h2>Motivation</h2>
<ul>
<li>Exponential Random Graph Models (ERGMs) express the probability of observing a network as a function of network features:</li>
</ul>
<p><span class="math display">\[
\mathbb{P}_{\beta}(\mathbf{x}| \mathbf{y}) = \exp\left(\beta^\top \mathbf{s}(\mathbf{x}, \mathbf{y})\right)/ c(\beta, \mathbf{y})
\]</span> where</p>
<ul>
<li>network <span class="math inline">\(\mathbf{x} = \{0,1\}^{N\times N}\)</span></li>
<li><span class="math inline">\(p\)</span> covariates <span class="math inline">\(\mathbf{y} = (y_{i,p}) \in \mathbb{R}^{N\times q}\)</span></li>
<li><span class="math inline">\(\beta \in \mathbb{R}^p\)</span> parameters</li>
<li><span class="math inline">\(\mathbf{s}(\mathbf{x}, \mathbf{y})\)</span> network features</li>
<li><span class="math inline">\(c(\beta, \mathbf{y})\)</span> normalizing constant</li>
</ul>
</section>
<section id="exponential-random-graph-models-for-big-networks" class="slide level2">
<h2>Exponential Random Graph Models for Big Networks</h2>
<p><img data-src="bigergm_files/plot_network_blocks.png" class="absolute" style="top: 100px; left: 250px; width: 600px; "></p>
</section>
<section id="exponential-random-graph-models-for-big-networks-1" class="slide level2">
<h2>Exponential Random Graph Models for Big Networks</h2>
<p><span class="math display">\[
\begin{split}
\mathbb{P}_\theta(\mathbf{x} | \mathbf{y}, \mathbf{z}) = &amp;\left[\prod_{k \neq l}^K \mathbb{P}_{B}(\mathbf{x}_{k,l} | \mathbf{y}, \mathbf{z})\right] \left[\prod_{k = 1}^K \mathbb{P}_{W}(\mathbf{x}_{k,k} | \mathbf{y},\mathbf{z}) \right]
\end{split}
\]</span> where</p>
<ul>
<li><span class="math inline">\(\mathbf{x}_{k,l}\)</span> is the submatrix of <span class="math inline">\(\mathbf{x}\)</span> between blocks <span class="math inline">\(k\)</span> and <span class="math inline">\(l\)</span></li>
<li><span class="math inline">\(\mathbf{x}_{k,k}\)</span> is the submatrix of <span class="math inline">\(\mathbf{x}\)</span> within block <span class="math inline">\(k\)</span></li>
<li><span class="math inline">\(\mathbf{y}\)</span> is the covariate matrix</li>
<li><span class="math inline">\(\mathbf{z}\)</span> is the block structure of the network</li>
</ul>
</section>
<section id="specification-within-block-model" class="slide level2">
<h2>Specification: Within-block Model</h2>
<p><span class="math display">\[
\mathbb{P}_{W}(\mathbf{x}_{k,k} | \mathbf{y}, \mathbf{z}) = \exp\left(\alpha^\top \mathbf{s}_W(\mathbf{x}_{k,k}, \mathbf{y})\right)/ c_W(\alpha, \mathbf{y}, \mathbf{z}),
\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(\mathbf{s}_W(\mathbf{x}_{k,k}, \mathbf{y})\)</span> is a vector of network features counting, e.g., the edges within block <span class="math inline">\(k\)</span></li>
<li><span class="math inline">\(\alpha\)</span> parameter to estimate</li>
<li><span class="math inline">\(c_W(\alpha, \mathbf{y}, \mathbf{z})\)</span> is the normalizing constant</li>
</ul>
<p><img data-src="bigergm_files/statistics_no_caption_1.png" class="absolute" style="top: 450px; left: 50px; width: 250px; " alt="Degree"> <img data-src="bigergm_files/statistics_no_caption_2.png" class="absolute" style="top: 450px; left: 350px; width: 250px; " alt="Isolates"> <img data-src="bigergm_files/statistics_no_caption_3.png" class="absolute" style="top: 450px; left: 650px; width: 250px; " alt="Shared Partner"></p>
</section>
<section id="specification-between-block-model" class="slide level2">
<h2>Specification: Between-block Model</h2>
<p><span class="math display">\[
\mathbb{P}_{B}(\mathbf{x}_{k,l} | \mathbf{y},  \mathbf{z})  = \prod_{(i,j) \text{; } z_{ik} = 1 \text{, } z_{jl} = 1} \mathbb{P}_{\beta}( x_{i,j}  \mid \mathbf{y}, \mathbf{z}),
\]</span> where <span class="math display">\[
\mathbb{P}_{\beta}( x_{i,j} | \mathbf{y},\mathbf{z}) = (\pi_{k,l}(\beta, \mathbf{y}))^{x_{i,j}} (1 - \pi_{k,l}(\beta, \mathbf{y}))^{1 - x_{i,j}}
\]</span> e.g.</p>
<p><span class="math display">\[
\pi_{k,l}(\beta, \mathbf{y}) = \text{logit}^{-1}\left(\beta_0 + \sum_{p = 1}^P \beta_p \, \mathbb{I}\left(y_{i,p} = y_{j,p}\right) \right)
\]</span></p>
</section>
<section id="specification-between-block-model-1" class="slide level2">
<h2>Specification: Between-block Model</h2>
<p><span class="math display">\[
\mathbb{P}_{B}(\mathbf{x}_{k,l} | \mathbf{y}, \mathbf{z}) = \exp\left(\beta^\top \mathbf{s}_B(\mathbf{x}_{k,l}, \mathbf{y})\right)/ c_B(\beta, \mathbf{y}, \mathbf{z}),
\]</span> where <span class="math display">\[
\mathbf{s}_B(\mathbf{x}_{k,l}, \mathbf{y}) = \left(\sum_{i&lt;j} \mathbb{I}(y_{1,i} = y_{1,j})\, x_{i,j}, ...,  \sum_{i&lt;j} \mathbb{I}(y_{P,i} = y_{P,j})\, x_{i,j}\right)
\]</span></p>
<p>Remarks:</p>
<ol type="1">
<li>Within- and between-block models can be represented by ERGMs</li>
<li>Between-block models do not include terms that induce dependence between connections</li>
</ol>
</section>
<section id="estimation" class="slide level2">
<h2>Estimation</h2>
<p><img data-src="bigergm_files/estimation.png" class="absolute" style="top: 50px; left: 50px; width: 1000px; "></p>
</section></section>
<section>
<section id="background-and-preparation" class="title-slide slide level1 center">
<h1>Background and Preparation</h1>

</section>
<section id="the-package-bigergm" class="slide level2">
<h2>The package <a href="https://www.corneliusfritz.com/bigergm" data-preview-link="true"><code>bigergm</code></a></h2>
<p><img data-src="bigergm_files/evolution_packages.png" class="absolute" style="top: 400px; left: 170px; width: 800px; "></p>
<ul>
<li><span class="math inline">\(\mathtt{hergm}\)</span>: First package developed by <span class="citation" data-cites="schweinberger2018">Schweinberger &amp; Luna (<a href="#/literature" role="doc-biblioref" onclick="">2018</a>)</span>.<br>
</li>
<li><span class="math inline">\(\mathtt{lighthergm}\)</span>: Scaling up estimation to big networks based on <span class="citation" data-cites="babkin_2020">Babkin, Stewart, Long, &amp; Schweinberger (<a href="#/literature" role="doc-biblioref" onclick="">2020</a>)</span> and <span class="citation" data-cites="martinezdahbura2021">Dahbura, Komatsu, Nishida, &amp; Mele (<a href="#/literature" role="doc-biblioref" onclick="">2021</a>)</span></li>
<li><span class="math inline">\(\mathtt{bigergm}\)</span>: Extension to directed networks with a clean interface and additional features based on <span class="citation" data-cites="fritz2024">Fritz, Georg, Mele, &amp; Schweinberger (<a href="#/literature" role="doc-biblioref" onclick="">2024</a>)</span></li>
</ul>
</section>
<section id="installation" class="slide level2">
<h2>Installation</h2>
<ul>
<li>The package can be installed in R as follows:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"bigergm"</span>, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>An alternative is to install the package from GitHub:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"cfritz/bigergm-tutorial"</span>, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img data-src="bigergm_files/picture_installing.jpg" class="absolute" style="top: 310px; left: 300px; width: 400px; "></p>
</section></section>
<section>
<section id="bigergm-hierarchical-exponential-family-random-graph-models-for-big-networks" class="title-slide slide level1 center">
<h1><a href="https://www.corneliusfritz.com/bigergm" data-preview-link="true"><code>bigergm</code></a>: Hierarchical exponential-family random graph models for big networks</h1>

</section>
<section id="bigergm-hierarchical-exponential-family-random-graph-models-for-big-networks-1" class="slide level2">
<h2><a href="https://www.corneliusfritz.com/bigergm" data-preview-link="true"><code>bigergm</code></a>: Hierarchical exponential-family random graph models for big networks</h2>
<ol type="1">
<li>Specify</li>
<li>Simulate</li>
<li>Estimate</li>
<li>Diagnose</li>
</ol>
</section></section>
<section>
<section id="specify" class="title-slide slide level1 center">
<h1>1. Specify</h1>

</section>
<section id="specify-a-ergm-with-additional-structure" class="slide level2">
<h2>Specify a ERGM with additional structure</h2>
<ol type="1">
<li>Within-block ERGM (colored blue)</li>
<li>Between-block ERGM colored yellow)</li>
</ol>
<p><img data-src="bigergm_files/block_structure.jpg" class="absolute" style="top: 260px; left: 200px; width: 700px; "></p>
</section>
<section id="specify-a-ergm-with-additional-structure-1" class="slide level2">
<h2>Specify a ERGM with additional structure</h2>
<p>The block memberships saved as a vertex attribute ‘block’:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a>model_formula <span class="ot">&lt;-</span> lhs_network <span class="sc">~</span> network_term_1 <span class="sc">+</span> ... <span class="sc">+</span> network_term_p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li><code>lhs_network</code>: A <code>network</code> object where the simulation should be started. States the size of the network and whether it’s directed or not.</li>
<li><code>network_term(s)</code>: <code>ergmTerms</code> specifying the network model.
<ul>
<li>Within-block ERGM: Dyad-independent or dyad-dependent terms</li>
<li>Between-block ERGM: Only dyad-independent terms</li>
</ul></li>
</ol>
</section>
<section id="example-1" class="slide level2">
<h2>Example 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a>model_formula <span class="ot">&lt;-</span> network_tmp <span class="sc">~</span> edges   <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"x"</span>) <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Within-block model: <span class="math display">\[
\mathbf{s}_W(\mathbf{x}_{k,k}, \mathbf{y}) = \left(\sum_{i&lt;j}  x_{i,j}, \sum_{i&lt;j} \mathbb{I}(y_{1,i} = y_{1,j})\, x_{i,j}, \sum_{i&lt;j} \mathbb{I}(y_{1,i} = y_{1,j})\, x_{i,j}\right)
\]</span> Between-block model: <span class="math display">\[
\mathbf{s}_B(\mathbf{x}_{k,l}, \mathbf{y}) = \left(\sum_{i&lt;j}x_{i,j}, \sum_{i&lt;j} \mathbb{I}(y_{1,i} = y_{1,j})\, x_{i,j}, \sum_{i&lt;j} \mathbb{I}(y_{1,i} = y_{1,j})\, x_{i,j}\right)
\]</span></p>
</section>
<section id="example-2" class="slide level2">
<h2>Example 2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a>model_formula <span class="ot">&lt;-</span> network_tmp <span class="sc">~</span> edges <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"x"</span>) <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"y"</span>) <span class="sc">+</span> transitiveties</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Within-block model: <span class="math display">\[
\begin{split}
\mathbf{s}_W(\mathbf{x}_{k,k}, \mathbf{y}) = \Bigg(&amp;\sum_{i&lt;j} x_{i,j}, \sum_{i&lt;j} \mathbb{I}(y_{1,i} = y_{1,j})\, x_{i,j}, \sum_{i&lt;j} \mathbb{I}(y_{1,i} = y_{1,j})\, x_{i,j}, \\
&amp;\sum_{i&lt;j} x_{i,j}\,\mathbb{I} \Bigg(\sum_{h \neq i,j} x_{i,h}\, x_{h,j}&gt;0 \Bigg)\Bigg)
\end{split}
\]</span></p>
<p>Between-block model: <span class="math display">\[
\mathbf{s}_B(\mathbf{x}_{k,l}, \mathbf{y}) = \left(\sum_{i&lt;j}x_{i,j}, \sum_{i&lt;j} \mathbb{I}(y_{1,i} = y_{1,j})\, x_{i,j}, \sum_{i&lt;j}\mathbb{I}(y_{1,i} = y_{1,j})\, x_{i,j}\right)
\]</span></p>
</section></section>
<section>
<section id="simulate" class="title-slide slide level1 center">
<h1>2. Simulate</h1>

</section>
<section id="simulate-1" class="slide level2">
<h2>Simulate</h2>
<ol type="1">
<li>Specify the base network</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="co"># Load the required packages</span></span>
<span id="cb6-2"><a href=""></a><span class="fu">library</span>(bigergm)</span>
<span id="cb6-3"><a href=""></a><span class="fu">library</span>(network)</span>
<span id="cb6-4"><a href=""></a><span class="co"># Ensure that all results are reproducible</span></span>
<span id="cb6-5"><a href=""></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb6-6"><a href=""></a><span class="co"># Specify base network (which has 200 nodes and is undirected)</span></span>
<span id="cb6-7"><a href=""></a>network_tmp <span class="ot">&lt;-</span> network<span class="sc">::</span><span class="fu">network.initialize</span>(<span class="at">n =</span> <span class="dv">200</span>, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-8"><a href=""></a><span class="co"># Assign a block membership to each node </span></span>
<span id="cb6-9"><a href=""></a>network_tmp<span class="sc">%v%</span> <span class="st">"block"</span> <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">200</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-10"><a href=""></a><span class="co"># Assign a covariate 'x' and 'y' to each node</span></span>
<span id="cb6-11"><a href=""></a>network_tmp<span class="sc">%v%</span> <span class="st">"x"</span> <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">200</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-12"><a href=""></a>network_tmp<span class="sc">%v%</span> <span class="st">"y"</span> <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>), <span class="dv">200</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Specify the model formula</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a>model_formula <span class="ot">&lt;-</span> network_tmp <span class="sc">~</span> edges <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"x"</span>) <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"y"</span>) <span class="sc">+</span> transitiveties</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="simulate-2" class="slide level2">
<h2>Simulate</h2>
<ol start="3" type="1">
<li>Simulate a network from specified model</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a>sim_net <span class="ot">&lt;-</span> <span class="fu">simulate_bigergm</span>(</span>
<span id="cb8-2"><a href=""></a>  <span class="co"># Model specification </span></span>
<span id="cb8-3"><a href=""></a>  <span class="at">formula =</span> model_formula,</span>
<span id="cb8-4"><a href=""></a>  <span class="co"># The coefficients for the between connections</span></span>
<span id="cb8-5"><a href=""></a>  <span class="at">coef_between =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">4.7</span>,<span class="fl">0.8</span>, <span class="fl">0.4</span>),</span>
<span id="cb8-6"><a href=""></a>  <span class="co"># The coefficients for the within connections</span></span>
<span id="cb8-7"><a href=""></a>  <span class="at">coef_within =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.5</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="fl">0.5</span>),</span>
<span id="cb8-8"><a href=""></a>  <span class="co"># Number of simulations</span></span>
<span id="cb8-9"><a href=""></a>  <span class="at">nsim =</span> <span class="dv">1</span>, </span>
<span id="cb8-10"><a href=""></a>  <span class="co"># Control argument to guide simulation</span></span>
<span id="cb8-11"><a href=""></a>  <span class="at">control_within =</span> ergm<span class="sc">::</span><span class="fu">control.simulate.formula</span>(<span class="at">MCMC.burnin =</span> <span class="dv">50000</span>, <span class="at">MCMC.interval =</span> <span class="dv">10000</span>), </span>
<span id="cb8-12"><a href=""></a>  <span class="co"># Ensure that all results are reproducible</span></span>
<span id="cb8-13"><a href=""></a>  <span class="at">seed =</span> <span class="dv">123</span></span>
<span id="cb8-14"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="simulate-3" class="slide level2">
<h2>Simulate</h2>
<ol start="4" type="1">
<li>Plot simulated network</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a><span class="fu">plot</span>(sim_net, <span class="at">vertex.col =</span> sim_net <span class="sc">%v%</span> <span class="st">"block"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="bigergm_files/figure-revealjs/unnamed-chunk-9-1.png" width="1440" class="r-stretch"></section></section>
<section>
<section id="estimate" class="title-slide slide level1 center">
<h1>3. Estimate</h1>

</section>
<section id="estimate-with-unknown-block-structure" class="slide level2">
<h2>Estimate with unknown block structure</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="co"># Update the formula to refer to the simulated network </span></span>
<span id="cb10-2"><a href=""></a>model_formula <span class="ot">&lt;-</span> <span class="fu">update</span>(model_formula, sim_net<span class="sc">~</span>.)</span>
<span id="cb10-3"><a href=""></a>res <span class="ot">&lt;-</span><span class="fu">bigergm</span>(</span>
<span id="cb10-4"><a href=""></a>  <span class="co"># The model you would like to estimate</span></span>
<span id="cb10-5"><a href=""></a>  <span class="at">object =</span> model_formula,</span>
<span id="cb10-6"><a href=""></a>  <span class="co"># The number of blocks</span></span>
<span id="cb10-7"><a href=""></a>  <span class="at">n_blocks =</span>  <span class="dv">4</span>, </span>
<span id="cb10-8"><a href=""></a>  <span class="co"># The maximum number of MM steps</span></span>
<span id="cb10-9"><a href=""></a>  <span class="at">n_MM_step_max =</span> <span class="dv">100</span>,</span>
<span id="cb10-10"><a href=""></a>  <span class="co"># The tolarence for the MM algorithm</span></span>
<span id="cb10-11"><a href=""></a>  <span class="at">tol_MM_step =</span> <span class="fl">1e-6</span>,</span>
<span id="cb10-12"><a href=""></a>  <span class="co"># Perform parameter estimation after the block recovery step</span></span>
<span id="cb10-13"><a href=""></a>  <span class="at">estimate_parameters =</span> <span class="cn">TRUE</span>,</span>
<span id="cb10-14"><a href=""></a>  <span class="co"># Indicate whether clustering should take into account nodematch on x and y</span></span>
<span id="cb10-15"><a href=""></a>  <span class="at">clustering_with_features =</span> <span class="cn">TRUE</span>,</span>
<span id="cb10-16"><a href=""></a>  <span class="co"># Keep track of block memberships at each iteration</span></span>
<span id="cb10-17"><a href=""></a>  <span class="at">check_block_membership =</span> <span class="cn">TRUE</span></span>
<span id="cb10-18"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="estimate-with-unknown-block-structure-1" class="slide level2">
<h2>Estimate with unknown block structure</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a><span class="fu">summary</span>(res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
.main()

Found 4 clusters of relative sizes: 
 0.295 0.275 0.225 0.205

Results of within-cluster estimation: 
Maximum Pseudolikelihood Results:

               Estimate Std. Error MCMC % z value Pr(&gt;|z|)    
edges          -2.70189    0.08884      0  -30.41   &lt;1e-04 ***
nodematch.x     0.93662    0.08120      0   11.54   &lt;1e-04 ***
nodematch.y     0.91773    0.07333      0   12.52   &lt;1e-04 ***
transitiveties  0.65987    0.05540      0   11.91   &lt;1e-04 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Results of between-cluster estimation: 
 Results:

            Estimate Std. Error MCMC % z value Pr(&gt;|z|)    
edges        -4.5848     0.1062      0 -43.184  &lt; 1e-04 ***
nodematch.x   0.5452     0.1615      0   3.375 0.000738 ***
nodematch.y   0.1856     0.1529      0   1.214 0.224796    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
AIC: 6709.794 BIC:  6736.106</code></pre>
</div>
</div>
<p>Ground truth coefficients:</p>
<ul>
<li>Within-block: -2.5 (edges), 1 (nm.x), 1 (nm.y), 0.5 (tt)</li>
<li>Between-block: -4.7 (edges), 0.8 (nm.x), 0.4 (nm.y)</li>
</ul>
</section>
<section id="estimate-with-unknown-block-structure-2" class="slide level2">
<h2>Estimate with unknown block structure</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a><span class="fu">plot</span>(res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="bigergm_files/figure-revealjs/unnamed-chunk-12-1.png" width="1440" class="r-stretch"></section>
<section id="estimate-with-unknown-block-structuree" class="slide level2">
<h2>Estimate with unknown block structuree</h2>
<ul>
<li>Compare the estimated block structure with the true block structure by the adjusted Rand index (ARI)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a><span class="fu">ari</span>(res<span class="sc">$</span>block, sim_net <span class="sc">%v%</span> <span class="st">"block"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9867735</code></pre>
</div>
</div>
<ul>
<li>Check the clustering step for convergence</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a><span class="fu">plot</span>(res<span class="sc">$</span>MM_lower_bound, <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">xlab =</span> <span class="st">"Iteration"</span>, <span class="at">ylab =</span> <span class="st">"Lower Bound"</span>, </span>
<span id="cb16-2"><a href=""></a>     <span class="at">main =</span> <span class="st">"Convergence of the MM algorithm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="bigergm_files/figure-revealjs/unnamed-chunk-14-1.png" width="1440" class="r-stretch"></section>
<section id="estimate-with-known-block-structure" class="slide level2">
<h2>Estimate with known block structure</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" data-code-line-numbers="|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a>res_known <span class="ot">&lt;-</span><span class="fu">bigergm</span>(</span>
<span id="cb17-2"><a href=""></a>  <span class="co"># The model you would like to estimate</span></span>
<span id="cb17-3"><a href=""></a>  <span class="at">object =</span> model_formula,</span>
<span id="cb17-4"><a href=""></a>  <span class="co"># Specify the block structure</span></span>
<span id="cb17-5"><a href=""></a>  <span class="at">blocks =</span> sim_net <span class="sc">%v%</span> <span class="st">"block"</span></span>
<span id="cb17-6"><a href=""></a>)</span>
<span id="cb17-7"><a href=""></a><span class="fu">summary</span>(res_known)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
.main()

Found 4 clusters of relative sizes: 
 0.225 0.275 0.29 0.21

Results of within-cluster estimation: 
Maximum Pseudolikelihood Results:

               Estimate Std. Error MCMC % z value Pr(&gt;|z|)    
edges          -2.67073    0.08859      0  -30.15   &lt;1e-04 ***
nodematch.x     0.93762    0.08116      0   11.55   &lt;1e-04 ***
nodematch.y     0.91850    0.07332      0   12.53   &lt;1e-04 ***
transitiveties  0.63566    0.05512      0   11.53   &lt;1e-04 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Results of between-cluster estimation: 
 Results:

            Estimate Std. Error MCMC % z value Pr(&gt;|z|)    
edges        -4.5891     0.1061      0 -43.234  &lt; 1e-04 ***
nodematch.x   0.5562     0.1604      0   3.468 0.000524 ***
nodematch.y   0.2138     0.1516      0   1.410 0.158430    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
AIC: 6726.304 BIC:  6752.603</code></pre>
</div>
</div>
</section></section>
<section>
<section id="diagnose" class="title-slide slide level1 center">
<h1>3. Diagnose</h1>

</section>
<section id="diagnose-1" class="slide level2">
<h2>Diagnose</h2>
<ul>
<li>Check if simulations from the estimated model match the observed network</li>
<li>Function calculates degree, edgewise shared partner, and geodesic distance statistics</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a>tmp <span class="ot">&lt;-</span> <span class="fu">gof</span>(res_known, </span>
<span id="cb19-2"><a href=""></a>    <span class="co"># Control arguments for within-block simulations</span></span>
<span id="cb19-3"><a href=""></a>    <span class="at">control_within =</span> ergm<span class="sc">::</span><span class="fu">control.simulate.formula</span>(<span class="at">MCMC.burnin =</span> <span class="dv">50000</span>, </span>
<span id="cb19-4"><a href=""></a>                                                    <span class="at">MCMC.interval =</span> <span class="dv">10000</span>), </span>
<span id="cb19-5"><a href=""></a>    <span class="co"># How many simulations should be performed?</span></span>
<span id="cb19-6"><a href=""></a>    <span class="at">nsim =</span> <span class="dv">100</span>,</span>
<span id="cb19-7"><a href=""></a>    <span class="co"># Either 'full' or 'within' to say if gof should be based on only </span></span>
<span id="cb19-8"><a href=""></a>    <span class="co"># within-connections or all</span></span>
<span id="cb19-9"><a href=""></a>    <span class="at">type =</span> <span class="st">"full"</span>,</span>
<span id="cb19-10"><a href=""></a>    <span class="co"># Ensure that all results are reproducible</span></span>
<span id="cb19-11"><a href=""></a>    <span class="at">seed =</span> <span class="dv">123</span>,</span>
<span id="cb19-12"><a href=""></a>    <span class="co"># Should the simulation start from the observed network?</span></span>
<span id="cb19-13"><a href=""></a>    <span class="at">start_from_observed =</span> <span class="cn">TRUE</span>, </span>
<span id="cb19-14"><a href=""></a>    <span class="co"># Should all geodesic distances be computed for the simulated networks?</span></span>
<span id="cb19-15"><a href=""></a>    <span class="at">compute_geodesic_distance =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="diagnose-2" class="slide level2">
<h2>Diagnose</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb20-2"><a href=""></a><span class="fu">plot</span>(tmp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="bigergm_files/figure-revealjs/unnamed-chunk-17-1.png" width="1920" class="r-stretch"></section></section>
<section>
<section id="application-to-twitter-x-following-network-of-state-legislators" class="title-slide slide level1 center">
<h1>Application to Twitter (X):<br> Following Network of State Legislators</h1>

</section>
<section id="data-twitter-x-network-of-u.s.-state-legislators" class="slide level2">
<h2>Data: <a href="https://www.corneliusfritz.com/bigergm/reference/state_twitter" data-preview-link="true">Twitter (X) network of U.S. state legislators</a></h2>
<p>We are indebted Bruce Desmarais for sharing the Twitter (X) data and allowing us to include them in the package:</p>
<ul>
<li><p>Gopal, Kim, Nakka, Boehmke, Harden, Desmarais. The National Network of U.S. State Legislators on Twitter. Political Science Research &amp; Methods, Forthcoming.</p></li>
<li><p>Kim, Nakka, Gopal, Desmarais, Mancinelli, Harden, Ko, and Boehmke (2022). Attention to the COVID-19 pandemic on Twitter: Partisan differences among U.S. state legislators. Legislative Studies Quarterly 47, 1023–1041.</p></li>
</ul>
</section>
<section id="data-twitter-x-network-of-u.s.-state-legislators-1" class="slide level2">
<h2>Data: <a href="https://www.corneliusfritz.com/bigergm/reference/state_twitter" data-preview-link="true">Twitter (X) network of U.S. state legislators</a></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a><span class="fu">data</span>(<span class="st">"state_twitter"</span>)</span>
<span id="cb21-2"><a href=""></a>state_twitter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Network attributes:
  vertices = 2191 
  directed = TRUE 
  hyper = FALSE 
  loops = FALSE 
  multiple = FALSE 
  bipartite = FALSE 
  total edges= 33321 
    missing edges= 0 
    non-missing edges= 33321 

 Vertex attribute names: 
    gender party race state vertex.names 

 Edge attribute names not shown </code></pre>
</div>
</div>
</section>
<section id="data-twitter-x-network-of-u.s.-state-legislators-2" class="slide level2">
<h2>Data: <a href="https://www.corneliusfritz.com/bigergm/reference/state_twitter" data-preview-link="true">Twitter (X) network of U.S. state legislators</a></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href=""></a><span class="fu">library</span>(ggnet)</span>
<span id="cb23-2"><a href=""></a><span class="fu">library</span>(GGally)</span>
<span id="cb23-3"><a href=""></a><span class="co"># Ensure that all results are reproducible</span></span>
<span id="cb23-4"><a href=""></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb23-5"><a href=""></a><span class="fu">ggnet2</span>(state_twitter,  <span class="at">size =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"state"</span>, <span class="at">edge.alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb23-6"><a href=""></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>) <span class="sc">+</span> </span>
<span id="cb23-7"><a href=""></a>  <span class="fu">scale_colour_viridis_d</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="bigergm_files/figure-revealjs/unnamed-chunk-19-1.png" width="1920" class="r-stretch"></section>
<section id="specify-1" class="slide level2">
<h2>1. Specify</h2>
<ul>
<li>Issue with blocks of different size: Parameters of within-block model may change between blocks</li>
<li>Solution based on <code>ergm.multi</code>: Size-dependent parametrizations</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a>model_formula <span class="ot">&lt;-</span> state_twitter <span class="sc">~</span>  edges <span class="sc">+</span> <span class="fu">N</span>(<span class="sc">~</span>edges,<span class="sc">~</span>n<span class="dv">-1</span>) </span>
<span id="cb24-2"><a href=""></a>model_formula <span class="ot">&lt;-</span> state_twitter <span class="sc">~</span>  edges <span class="sc">+</span> <span class="fu">N</span>(<span class="sc">~</span>edges,<span class="sc">~</span><span class="fu">log</span>(n)<span class="sc">-</span><span class="dv">1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img data-src="bigergm_files/edge_term_plot.png" class="absolute" style="top: 340px; left: 0px; width: 1000px; "></p>
</section>
<section id="exercise-1-specification" class="slide level2">
<h2>Exercise 1: Specification</h2>
<ul>
<li>Specify a HERGM for the Twitter (X) network of U.S. state legislators with the following terms:
<ul>
<li>Homophily based on party affiliation, race, and gender with <code>nodematch</code> statistic</li>
<li>Size-dependent parametrizations of the edge term</li>
</ul></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Solution</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href=""></a>formula_tmp <span class="ot">&lt;-</span> state_twitter <span class="sc">~</span>  edges <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"party"</span>) <span class="sc">+</span> </span>
<span id="cb25-2"><a href=""></a>  <span class="fu">nodematch</span>(<span class="st">"race"</span>) <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"gender"</span>) <span class="sc">+</span> <span class="fu">N</span>(<span class="sc">~</span>edges,<span class="sc">~</span><span class="fu">log</span>(n)<span class="sc">-</span><span class="dv">1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exercise-2-estimation" class="slide level2">
<h2>Exercise 2: Estimation</h2>
<ul>
<li>Estimate the HERGM with the <code>bigergm</code> function assuming there are 50 blocks (use the covariate information for the first step)
<ul>
<li>Check if different initialization methods lead to different results (see help(bigergm) for guidance on availablity of different initialization methods).</li>
<li>Compare the estimated blocks with the state each legislator serves for with the adjusted Rand index (ARI).</li>
</ul></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Hint 1</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="co"># clustering_with_features, n_blocks, initialization</span></span>
<span id="cb26-2"><a href=""></a><span class="fu">help</span>(bigergm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Hint 2</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href=""></a><span class="fu">help</span>(ari)</span>
<span id="cb27-2"><a href=""></a><span class="fu">help</span>(attribute.methods)</span>
<span id="cb27-3"><a href=""></a><span class="co"># state_twitter%v%"state"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exercise-2-estimation-1" class="slide level2">
<h2>Exercise 2: Estimation</h2>
<ul>
<li>Estimate the HERGM with the <code>bigergm</code> function assuming there are 50 blocks (use the covariate information for the first step)
<ul>
<li>Check if different initialization methods lead to different results (see help(bigergm) for guidance on availablity of different initialization methods).</li>
<li>Compare the estimated blocks with the state each legislator serves for with the adjusted Rand index (ARI).</li>
</ul></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Solution 1</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a>twitter_tmp <span class="ot">&lt;-</span> <span class="fu">bigergm</span>(</span>
<span id="cb28-2"><a href=""></a>  <span class="at">object =</span> formula_tmp,</span>
<span id="cb28-3"><a href=""></a>  <span class="co"># Perform parameter estimation after the block recovery step</span></span>
<span id="cb28-4"><a href=""></a>  <span class="at">clustering_with_features =</span> <span class="cn">TRUE</span>,</span>
<span id="cb28-5"><a href=""></a>  <span class="co"># How many blocks should be estimated?</span></span>
<span id="cb28-6"><a href=""></a>  <span class="at">n_blocks =</span> <span class="dv">50</span>, </span>
<span id="cb28-7"><a href=""></a>  <span class="co"># Set algorithm for initialization </span></span>
<span id="cb28-8"><a href=""></a>  <span class="at">initialization =</span> <span class="st">"walktrap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Solution 2</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href=""></a><span class="co"># summary(twitter_tmp)</span></span>
<span id="cb29-2"><a href=""></a><span class="co"># ari(twitter_tmp$block,state_twitter%v%"state")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exercise-3-simulation" class="slide level2">
<h2>Exercise 3: Simulation</h2>
<ul>
<li>Simulate 10 networks from the estimated model and plot the number of edges in the within- and between-block networks</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Hint</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a><span class="fu">help</span>(simulate)</span>
<span id="cb30-2"><a href=""></a><span class="fu">help</span>(simulate_bigergm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Solution</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a>twitter_sim <span class="ot">&lt;-</span> <span class="fu">simulate</span>(twitter_tmp, <span class="at">output =</span> <span class="st">"stats"</span>, <span class="at">nsim =</span> <span class="dv">10</span>,</span>
<span id="cb31-2"><a href=""></a>                        <span class="at">control_within =</span> <span class="fu">control.simulate.formula</span>(<span class="at">MCMC.interval =</span> <span class="dv">20000</span>))</span>
<span id="cb31-3"><a href=""></a><span class="co"># plot(twitter_sim$within_network$edges, </span></span>
<span id="cb31-4"><a href=""></a><span class="co">#      xlab = "Index", ylab = "Within-block Edges", type = "l")</span></span>
<span id="cb31-5"><a href=""></a><span class="co"># plot(twitter_sim$between_network$edges, </span></span>
<span id="cb31-6"><a href=""></a><span class="co">#      xlab = "Index", ylab = "Within-block Edges", type = "l")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="specify-2" class="slide level2">
<h2>1. Specify</h2>
<ul>
<li>Issue with blocks of different size: Parameters of the within-block model might change between blocks</li>
<li>Solution based on <code>ergm.multi</code>: Size-dependent parametrizations!</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href=""></a>model_formula <span class="ot">&lt;-</span> state_twitter <span class="sc">~</span>  edges <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"party"</span>) <span class="sc">+</span>   </span>
<span id="cb32-2"><a href=""></a>   <span class="fu">nodematch</span>(<span class="st">"race"</span>) <span class="sc">+</span> <span class="fu">nodematch</span>(<span class="st">"gender"</span>) <span class="sc">+</span> <span class="fu">N</span>(<span class="sc">~</span>transitiveties,<span class="sc">~</span><span class="fu">log</span>(n)) <span class="sc">+</span> </span>
<span id="cb32-3"><a href=""></a>   <span class="fu">N</span>(<span class="sc">~</span>mutual,<span class="sc">~</span><span class="fu">log</span>(n)) <span class="sc">+</span> <span class="fu">N</span>(<span class="sc">~</span>edges,<span class="sc">~</span><span class="fu">log</span>(n)<span class="sc">-</span><span class="dv">1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img data-src="bigergm_files/edge_term_plot.png" class="absolute" style="top: 340px; left: 0px; "></p>
</section>
<section id="estimate-1" class="slide level2">
<h2>2. Estimate</h2>
<ul>
<li>Support for parallel computation and ML estimation for within-block model</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a>twitter_res <span class="ot">&lt;-</span> <span class="fu">bigergm</span>(</span>
<span id="cb33-2"><a href=""></a>  <span class="at">object =</span> model_formula,</span>
<span id="cb33-3"><a href=""></a>  <span class="co"># The number of blocks</span></span>
<span id="cb33-4"><a href=""></a>  <span class="at">n_MM_step_max =</span> <span class="dv">1000</span>,<span class="at">tol_MM_step =</span> <span class="fl">0.0001</span>,</span>
<span id="cb33-5"><a href=""></a>  <span class="co"># The maximum number of MM steps </span></span>
<span id="cb33-6"><a href=""></a>  <span class="at">estimate_parameters =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-7"><a href=""></a>  <span class="co"># Perform parameter estimation after the block recovery step</span></span>
<span id="cb33-8"><a href=""></a>  <span class="at">clustering_with_features =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-9"><a href=""></a>  <span class="co"># Indicate wether clustering should take into account </span></span>
<span id="cb33-10"><a href=""></a>  <span class="co"># nodematch on characteristics</span></span>
<span id="cb33-11"><a href=""></a>  <span class="at">check_block_membership =</span> <span class="cn">TRUE</span>, </span>
<span id="cb33-12"><a href=""></a>  <span class="co"># How many blocks should be estimated?</span></span>
<span id="cb33-13"><a href=""></a>  <span class="at">n_blocks =</span> <span class="dv">50</span>,</span>
<span id="cb33-14"><a href=""></a>  <span class="co"># Which estimation for the within-block model should be used?</span></span>
<span id="cb33-15"><a href=""></a>  <span class="at">method_within =</span> <span class="st">"MLE"</span>,</span>
<span id="cb33-16"><a href=""></a>  <span class="co"># Control arguments for within-block simulations</span></span>
<span id="cb33-17"><a href=""></a>  <span class="at">control_within =</span> <span class="fu">control.ergm</span>(<span class="at">parallel=</span><span class="dv">5</span>, <span class="at">parallel.type=</span><span class="st">"PSOCK"</span>, </span>
<span id="cb33-18"><a href=""></a>                                <span class="at">MCMC.burnin =</span> <span class="dv">10000</span>, </span>
<span id="cb33-19"><a href=""></a>                                <span class="at">MCMC.interval =</span> <span class="dv">20000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="estimate-2" class="slide level2">
<h2>2. Estimate</h2>
<ul>
<li>Homophily based on party affiliation</li>
<li>Strong reciprocity, decreasing with network size</li>
<li>Strong transitivity, decreasing with network size</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href=""></a><span class="fu">summary</span>(twitter_res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
.main()

Found 50 clusters of relative sizes: 
 0.02418987 0.02008215 0.02784117 0.01780009 0.0109539 0.03651301 0.02647193 0.01643085 0.01916933 0.03833866 0.03012323 0.03194888 0.005933364 0.01688727 0.005476951 0.01186673 0.01962574 0.01141031 0.03423094 0.04792332 0.02008215 0.04198996 0.009128252 0.03103606 0.01414879 0.007302602 0.01506162 0.02555911 0.0182565 0.007302602 0.01916933 0.01186673 0.02555911 0.02510269 0.02921041 0.007302602 0.02099498 0.01551803 0.005476951 0.01141031 0.03423094 0.02555911 0.02373346 0.04518485 0.01597444 0.007302602 0.006389776 0.009128252 0.007302602 0.01049749

Results of within-cluster estimation: 
Monte Carlo Maximum Likelihood Results:

                         Estimate Std. Error MCMC % z value Pr(&gt;|z|)    
edges                    -5.45631    0.28616      0 -19.067  &lt; 1e-04 ***
nodematch.party           0.94663    0.01448      0  65.373  &lt; 1e-04 ***
nodematch.race           -0.09377    0.01241      0  -7.553  &lt; 1e-04 ***
nodematch.gender          0.04707    0.01249      0   3.770 0.000163 ***
N(1)~transitiveties       2.08173    0.25310      0   8.225  &lt; 1e-04 ***
N(log(n))~transitiveties -0.42863    0.06667      0  -6.429  &lt; 1e-04 ***
N(1)~mutual               3.43146    0.24329      0  14.104  &lt; 1e-04 ***
N(log(n))~mutual         -0.29835    0.05813      0  -5.132  &lt; 1e-04 ***
N(log(n))~edges           0.62627    0.07441      0   8.416  &lt; 1e-04 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Results of between-cluster estimation: 
 Results:

                 Estimate Std. Error MCMC %  z value Pr(&gt;|z|)    
edges            -8.03344    0.04456      0 -180.263   &lt;1e-04 ***
nodematch.party   1.57107    0.04033      0   38.956   &lt;1e-04 ***
nodematch.race   -0.16491    0.03039      0   -5.427   &lt;1e-04 ***
nodematch.gender  0.19144    0.03030      0    6.319   &lt;1e-04 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
AIC: 184705.1 BIC:  184795.7</code></pre>
</div>
</div>
</section>
<section id="estimate-3" class="slide level2">
<h2>2. Estimate</h2>
<ul>
<li>Exploit that <code>est_within</code> is an <code>ergm</code> object</li>
<li>Check if the MCMC chains used for estimation have converged</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href=""></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb36-2"><a href=""></a><span class="fu">mcmc.diagnostics</span>(twitter_res<span class="sc">$</span>est_within,<span class="at">which =</span> <span class="st">"plots"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="bigergm_files/figure-revealjs/unnamed-chunk-31-1.png" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="bigergm_files/figure-revealjs/unnamed-chunk-31-2.png" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="bigergm_files/figure-revealjs/unnamed-chunk-31-3.png" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Note: MCMC diagnostics shown here are from the last round of
  simulation, prior to computation of final parameter estimates.
  Because the final estimates are refinements of those used for this
  simulation run, these diagnostics may understate model performance.
  To directly assess the performance of the final model on in-model
  statistics, please use the GOF command: gof(ergmFitObject,
  GOF=~model).</code></pre>
</div>
</div>
</section>
<section id="diagnose-simulation" class="slide level2">
<h2>3. Diagnose: Simulation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href=""></a>sim_tmp <span class="ot">&lt;-</span> <span class="fu">simulate</span>(twitter_res, <span class="at">nsim =</span> <span class="dv">10</span>, <span class="at">seed =</span> <span class="dv">1</span>,<span class="at">output =</span> <span class="st">"stats"</span>,</span>
<span id="cb38-2"><a href=""></a>                    <span class="at">control_within =</span> <span class="fu">control.simulate.formula</span>(<span class="at">MCMC.interval =</span> <span class="dv">20000</span>))</span>
<span id="cb38-3"><a href=""></a><span class="fu">plot</span>(sim_tmp<span class="sc">$</span>within_network<span class="sc">$</span>edges, <span class="at">xlab =</span> <span class="st">"Index"</span>, <span class="at">type =</span> <span class="st">"l"</span>,</span>
<span id="cb38-4"><a href=""></a>     <span class="at">ylab =</span> <span class="st">"Number of edges"</span>, <span class="at">main =</span> <span class="st">"Within-block"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="bigergm_files/figure-revealjs/unnamed-chunk-32-1.png" width="960" class="r-stretch"></section>
<section id="diagnose-simulation-1" class="slide level2">
<h2>3. Diagnose: Simulation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href=""></a><span class="fu">plot</span>(sim_tmp<span class="sc">$</span>between_network<span class="sc">$</span>edges, <span class="at">xlab =</span> <span class="st">"Index"</span>,<span class="at">type =</span> <span class="st">"l"</span>,</span>
<span id="cb39-2"><a href=""></a>     <span class="at">ylab =</span> <span class="st">"Number of edges"</span>, <span class="at">main =</span> <span class="st">"Between-block"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="bigergm_files/figure-revealjs/unnamed-chunk-33-1.png" width="960" class="r-stretch"></section>
<section id="diagnose-gof" class="slide level2">
<h2>3. Diagnose: GoF</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href=""></a><span class="co"># Assess fit</span></span>
<span id="cb40-2"><a href=""></a>twitter_gof <span class="ot">&lt;-</span> <span class="fu">gof</span>(twitter_res, </span>
<span id="cb40-3"><a href=""></a>                   <span class="co"># How many simulations should be performed?</span></span>
<span id="cb40-4"><a href=""></a>                   <span class="at">n_sim =</span> <span class="dv">100</span>, </span>
<span id="cb40-5"><a href=""></a>                   <span class="co"># Ensure that all results are reproducible</span></span>
<span id="cb40-6"><a href=""></a>                   <span class="at">seed =</span> <span class="dv">2</span>, </span>
<span id="cb40-7"><a href=""></a>                   <span class="co"># Either 'full' or 'within' to say if gof should be based on only </span></span>
<span id="cb40-8"><a href=""></a>                   <span class="co"># within-connections or all</span></span>
<span id="cb40-9"><a href=""></a>                   <span class="at">type =</span> <span class="st">"within"</span>, </span>
<span id="cb40-10"><a href=""></a>                   <span class="co"># Should the geodesic distance be computed?</span></span>
<span id="cb40-11"><a href=""></a>                   <span class="at">compute_geodesic_distance =</span> <span class="cn">TRUE</span>,</span>
<span id="cb40-12"><a href=""></a>                   <span class="co"># Control arguments for within-block simulations</span></span>
<span id="cb40-13"><a href=""></a>                   <span class="at">control_within =</span> <span class="fu">control.simulate.formula</span>(<span class="at">parallel=</span><span class="dv">4</span>, </span>
<span id="cb40-14"><a href=""></a>                                                     <span class="at">parallel.type=</span><span class="st">"PSOCK"</span>,</span>
<span id="cb40-15"><a href=""></a>                                                     <span class="at">MCMC.burnin =</span> <span class="dv">10000</span>, </span>
<span id="cb40-16"><a href=""></a>                                                     <span class="at">MCMC.interval =</span> <span class="dv">20000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="diagnose-gof-1" class="slide level2">
<h2>3. Diagnose: GoF</h2>
<ul>
<li>Plot the goodness-of-fit statistics</li>
</ul>
<div class="cell" data-fig-caption="Goodness-of-fit statistics">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href=""></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb41-2"><a href=""></a><span class="fu">plot</span>(twitter_gof)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="bigergm_files/figure-revealjs/unnamed-chunk-35-1.png" width="1920"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="bigergm_files/figure-revealjs/unnamed-chunk-35-2.png" width="1920"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="conclusion-and-outlook" class="slide level2">
<h2>Conclusion and Outlook</h2>
<ul>
<li><code>bigergm</code> is a powerful tool for estimating, simulating, and diagnosing HERGMs for big networks</li>
<li>Package is under active development:
<ul>
<li>Degree-correction</li>
<li>Bipartite networks</li>
<li>Overlapping blocks</li>
<li>More efficient estimation algorithms</li>
</ul></li>
<li>Feedback and contributions are welcome!</li>
</ul>
</section>
<section id="literature" class="slide level2 smaller scrollable">
<h2>Literature</h2>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-babkin_2020" class="csl-entry" role="listitem">
Babkin, S., Stewart, J., Long, X., &amp; Schweinberger, M. (2020). Large-scale estimation of random graph models with local dependence. <em>Computational Statistics &amp; Data Analysis</em>, <em>152</em>, 107029.
</div>
<div id="ref-martinezdahbura2021" class="csl-entry" role="listitem">
Dahbura, J. N. M., Komatsu, S., Nishida, T., &amp; Mele, A. (2021). <em>A Structural Model of Business Card Exchange Networks</em>. Working Paper. Available at https://arxiv.org/abs/2105.12704.
</div>
<div id="ref-fritz2024" class="csl-entry" role="listitem">
Fritz, C., Georg, C.-P., Mele, A., &amp; Schweinberger, M. (2024). <em>A strategic model of software dependency networks</em>. Working Paper. Available at https://arxiv.org/abs/2402.13375.
</div>
<div id="ref-schweinberger2018" class="csl-entry" role="listitem">
Schweinberger, M., &amp; Luna, P. (2018). hergm: Hierarchical Exponential-Family Random Graph Models. <em>Journal of Statistical Software</em>, <em>85</em>(1), 1–39.
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="bigergm_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="bigergm_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="bigergm_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="bigergm_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="bigergm_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="bigergm_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="bigergm_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="bigergm_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="bigergm_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="bigergm_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>